# Yarukoto- 要件定義書

## 1. プロダクト概要

### 1.1 アプリケーション名
Yarukoto（やること）

### 1.2 コンセプト
日毎にTODOを整理し、当日〜1週間程度の短期タスクを効率的に管理するWebアプリケーション。
長期的なカレンダー管理ではなく、「今日やること」を中心としたシンプルなタスク管理を提供する。

### 1.3 ターゲットユーザー
- 日々のタスクをシンプルに管理したい個人ユーザー
- スマホのメモ帳でTODOリストを管理している人

---

## 2. 機能要件

### 2.1 タスク管理機能

#### 2.1.1 タスクの属性
| 属性 | 必須 | 説明 |
|------|------|------|
| タスク名 | ○ | タスクの内容（テキスト） |
| 作成日 | ○ | タスクを作成した日付（システム自動設定） |
| 予定日 | - | タスクを実行する予定の日付（未設定可） |
| 完了日 | - | タスクを完了した日付（システム自動設定） |
| ステータス | ○ | 未完了 / 完了 / やらない の3状態 |
| やらない理由 | - | 「やらない」にした理由（任意入力） |
| やらない日 | - | 「やらない」にした日付（システム自動設定） |
| 優先度 | - | 高・中・低の3段階（デフォルト: なし） |
| カテゴリ | - | 1タスクにつき1カテゴリを設定可能 |
| メモ | - | タスクの詳細説明・補足情報 |

#### 2.1.2 タスクの操作
- **作成**: 新規タスクの作成
- **編集**: タスク内容・属性の変更
- **完了**: タスクを完了状態にする
- **やらない**: タスクを「やらない」状態にする（理由を任意で入力可能）
- **未完了に戻す**: 完了または「やらない」状態のタスクを未完了に戻す
- **削除**: タスクの削除

### 2.2 日付別タスク表示機能

#### 2.2.1 今日のタスク（ホーム画面）
以下のタスクを表示する：
1. **本日予定のタスク**: 予定日が今日のタスク
2. **期限超過タスク**: 予定日が過去で未完了のタスク（元の予定日を表示）
3. **日付未定タスク**: 予定日が設定されていないタスク
4. **今日完了したタスク**: 完了日が今日のタスク
5. **今日「やらない」にしたタスク**: やらない日が今日のタスク

#### 2.2.2 過去の日付
以下のタスクを表示する：
1. **その日に完了したタスク**: 完了日がその日のタスク
2. **その日に「やらない」にしたタスク**: やらない日がその日のタスク
3. **その日が予定日のタスク**: 予定日がその日のタスク（完了・未完了・やらない問わず）

※ 同一タスクが複数の条件に該当する場合（例: 予定日と完了日が異なる日付）、それぞれの日付で表示される

#### 2.2.3 未来の日付
以下のタスクを表示する：
- **その日が予定日のタスク**: 予定日がその日のタスク

### 2.3 カテゴリ管理機能

#### 2.3.1 カテゴリの属性
| 属性 | 必須 | 説明 |
|------|------|------|
| カテゴリ名 | ○ | カテゴリの名前 |
| 表示色 | - | カテゴリの識別色 |

#### 2.3.2 カテゴリの操作
- **作成**: 新規カテゴリの作成
- **編集**: カテゴリ名・色の変更
- **削除**: カテゴリの削除（紐づくタスクはカテゴリなしになる）

### 2.4 ユーザー認証機能

#### 2.4.1 認証方式
- メールアドレス + パスワードによる認証

#### 2.4.2 ユーザー管理
- ユーザー登録
- ログイン / ログアウト
- パスワードリセット

### 2.5 データ同期機能
- クラウドベースでのデータ保存

### 2.6 タスク検索機能

#### 2.6.1 検索対象
- タスク名
- メモ

#### 2.6.2 フィルタ条件
- ステータス（未完了 / 完了 / やらない）
- カテゴリ
- 優先度
- 期間（予定日の範囲指定）

#### 2.6.3 検索結果
- 複数日のタスクを一覧で表示
- 日付順でグループ化して表示

---

## 3. 非機能要件

### 3.1 対応プラットフォーム
- **Webアプリケーション**
- レスポンシブデザインによるモバイルブラウザ対応

### 3.2 データ保持
- タスク履歴: 無制限に保持
- 削除したタスク: 即時削除

### 3.3 パフォーマンス要件
- ページ読み込み: 3秒以内
- タスク操作のレスポンス: 1秒以内

### 3.4 セキュリティ要件
- HTTPS通信
- 認証トークンの適切な管理
- ユーザーデータの分離

---

## 4. 画面構成

### 4.1 画面一覧
| 画面名 | 説明 |
|--------|------|
| ログイン画面 | ユーザー認証 |
| ユーザー登録画面 | 新規ユーザー登録 |
| パスワードリセット画面 | パスワードの再設定 |
| ホーム画面（今日のタスク） | 今日のタスク一覧表示・操作 |
| 日付別タスク画面 | 特定日付のタスク一覧表示 |
| タスク作成/編集画面 | タスクの作成・編集フォーム |
| カテゴリ管理画面 | カテゴリの一覧・作成・編集 |
| タスク検索画面 | タスクの検索・フィルタリング・一覧表示 |
| 設定画面 | ユーザー設定 |

### 4.2 ナビゲーション
- **日付の切り替え**: 左右スワイプで前日/翌日へ移動
- **日付ピッカー**: ヘッダーの日付タップで日付ピッカーを開き、任意の日付へジャンプ
- **今日ボタン**: どの日付を見ていてもワンタップで今日に戻れる

---

## 5. 技術スタック

### 5.1 フロントエンド
- **フレームワーク**: Next.js
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS

### 5.2 バックエンド
- **プラットフォーム**: Supabase
- **データベース**: PostgreSQL（Supabase提供）
- **認証**: Better Auth

### 5.3 インフラ
- **ホスティング**: Vercel
- **データベース**: Supabase

---

## 6. 将来的な拡張（スコープ外）

### 6.1 優先度の高い拡張
- ダークモード
- ソーシャルログイン（Google等）の対応
- 期限超過タスクの一括操作（すべて今日に移動、一括削除など）

### 6.2 優先度の低い拡張
- 通知・リマインダー機能
- タスクの繰り返し機能
- タスクのサブタスク機能
- タスクの並び替え（ドラッグ&ドロップ）
- タスクのエクスポート機能
- 複数デバイス間でのリアルタイム同期
- タスクの論理削除と復元（ゴミ箱機能）

---

## 7. 用語定義

| 用語 | 定義 |
|------|------|
| 予定日 | タスクを実行する予定の日付 |
| 完了日 | タスクを完了としてマークした日付 |
| やらない日 | タスクを「やらない」としてマークした日付 |
| 期限超過タスク | 予定日を過ぎても完了していないタスク |
| 日付未定タスク | 予定日が設定されていないタスク |
| やらないタスク | 実行しないと決めたタスク（履歴として保持） |
